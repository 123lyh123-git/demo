<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>

<body>
    <a href="http://www.bilibili.com/stu/?id=1024&name=123&age=22#student" id="link"></a>
</body>
<script src="js/queryUrl.js"></script>
<script>
    // dir(link)
    function queryURLParameter(str) {
        var url = document.createElement('a');
        url.href = str;
        var search = url.search.substr(1),
            hash = url.hash.substr(1);
        var obj = {};
        hash ? obj.hash = hash : null;
        if (search) {
            search = search.split('&');
            for (var i = 0; i < search.length; i++) {
                var item = search[i].split('=');
                obj[item[0]] = item[1];
            }
        }
        return obj;
    }
    var str = "http://www.bilibili.com/stu/?id=1024&name=123&age=22#student";
    console.log(queryURLParameter(str))
</script>

</html>